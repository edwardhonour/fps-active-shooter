<div class="container-fluid" style="background-color: #17213f;">
          <app-page-header [data]="data" (loadingChanged)="getLoading($event)"></app-page-header>
        <div class="container-fluid" style="background-color: whitesmoke">
            <!-- Facility Information -->
            <div class="row" style="background-color: wheat;">
                <div class="col-md-3">
                    <div>&nbsp;</div>
                </div>            
            </div>
            <div class="row" style="background-color: wheat;">
            <div class="col-md-7"><h2 style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">{{ data.template.TEMPLATE_NAME }}</h2></div>
            <div class="col-md-5">
                <button (click)="showSectionBefore();" class="mb-1 btn btn-warning">Add Section Before</button>
                <button (click)="showSectionAfter();" class="mb-1 btn btn-warning">Add Section After</button>
                <button (click)="showQEditor();"  class="mb-1 btn btn-primary">Add Question</button>
                <button (click)="showData()" *ngIf="showdata=='N'" class="btn btn-warning mb-1">Show Data</button>
                <button (click)="showData()" *ngIf="showdata=='Y'" class="btn btn-warning mb-1">Hide Data</button>
            </div>
            </div>
            <div class="row" style="background-color: wheat;">
                <div class="col-md-3">
                    <div>&nbsp;</div>
                </div>            
            </div>
<!-- Main Section -->
<div class="row">
    <div class="col-md-6">
        <h1 style="font-size:36px;" class="p-4">Template Instructions/Management</h1>        
    </div>
</div>

<!---->
<!-- ADD SECTION FORM -->
<!---->

<div *ngIf="adding_section=='Y'" class="row">
    <div class="col-md-3">
        <div>&nbsp;</div>
    </div>  
    <div class="col-md-5" style="background-color:silver">
        <div class="mb-3 p-3">
            <h2>Add Section</h2>
        </div>
        <div class="row mb-3 p-1">
            <div class="col-md-3">Section ID:</div>
            <div class="col-md-3">
            <input type="text" [(ngModel)]="data.sectionData['SECTION_ID']" class="form-control" id="formGroupExampleInput2">
            </div>
        <div *ngIf="data.sectionData['BEFORE']=='BEFORE'" class="col-md-6">
            Between {{ data.section_before }} and {{ data.sectionData['CURRENT_SECTION_ID'] }}.
        </div>
        <div *ngIf="data.sectionData['BEFORE']=='AFTER'" class="col-md-6">
            Between {{ data.sectionData['CURRENT_SECTION_ID'] }} and {{ data.section_after }}.
        </div>
         </div>
         <div class="row mb-3 p-1">
            <div class="col-md-3">Section Name:</div>
            <div class="col-md-9">
            <input type="text" [(ngModel)]="data.sectionData['SECTION_NAME']" class="form-control" id="formGroupExampleInput2">
            </div>
         </div>
         <div class="row mb-3 p-1">
            <div class="col-md-3">Section Order:</div>
            <div class="col-md-3">
            <input type="text" [(ngModel)]="data.sectionData['SECTION_ORDER']" class="form-control" id="formGroupExampleInput2">
            </div>
        <div *ngIf="data.sectionData['BEFORE']=='BEFORE'" class="col-md-6">
            Between {{ data.order_before }} and {{ data.sectionData['CURRENT_SECTION_ORDER'] }}.
        </div>
        <div *ngIf="data.sectionData['BEFORE']=='AFTER'" class="col-md-6">
            Between {{ data.sectionData['CURRENT_SECTION_ORDER'] }} and {{ data.order_after }}.
        </div>
         </div>
         <div class="row mb-3 p-1">
            <div class="col-md-3">Section Level:</div>
            <div class="col-md-3">
                <select [(ngModel)]="data.sectionData['SECTION_LEVEL']" class="form-control" id="formGroupExampleInput2">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </div>
        <div *ngIf="data.sectionData['BEFORE']=='BEFORE'" class="col-md-6">
          
        </div>
         </div>
        <div class="row mb-3 p-1">
            <div class="col-md-6"></div>
            <div class="col-md-6">
                <button (click)="postSection()" class="btn mb-1 btn-primary">Save</button>
                <button  (click)="showSectionBefore()" class="btn mb-1 btn-warning">Cancel</button>
            </div>
          </div>
    </div>
</div>

<!---->
<!-- TABLE OF CONTENTS -->
<!---->

<div class="row">
    <div  *ngIf="showdata=='N'" class="col-md-3">
        <app-section-list [data]="data" [page]="page"></app-section-list>
<!--        <div id="sidebar-nav"> 
            <div class="nav">
                <h1 class="mb-2">&nbsp; Table of Contents</h1>

                <div class="row ms-1 me-1 p-2 border" *ngFor="let m of data.sections" style="width:100%">
                    <div *ngIf="m.SECTION_LEVEL==2" class="col-md-1">
                        &nbsp;
                    </div>
                    <div class="col-md-10">
                        <a [routerLink]="['/instructions',m.TEMPLATE_ID, m.SECTION_ID ]"> {{ m.SECTION_NAME }}</a>                
                    </div>
                    <div *ngIf="m.SECTION_LEVEL==1" class="col-md-1">
                        &nbsp;
                    </div>
                    <div class="col-md-1">
                       
                    </div>
                </div>
            </div>
        </div> -->
      </div>

      <!-- -->
      <!-- MAIN SECTION -->
      <!-- -->

      <div class="col-md-9">
            <div class="container-fluid" style="background-color: white;">

                <!-- SECTION NAME -->
                <div class="row mt-5 mb-1" style="background-color:wheat">
                    <div class="col-md-8">
                        <div style="font-size:32px; color:darkblue" class="col-md-10 p-4" [innerHTML]="data.current_section['SECTION_NAME']"></div>
                    </div>
                    <div class="col-md-4">
                        <button (click)="showEditTitle()" class="mt-3 btn btn-primary">Edit</button>                         
                        <button (click)="moveSectionBack();" class="mt-3 btn btn-info"><<-</button>      
                        <button (click)="moveSectionForward();" class="mt-3 btn btn-info">+>></button>  
                        <button (click)="showQuestionList();" class="mt-3 btn btn-primary">Questions ({{ data.questions.length}})</button>  

                    </div>
                </div>

                <!-- SECTION TITLE EDIT-->
                <div *ngIf="editTitle=='Y'" class="row mt-5 mb-1 p-3" style="background-color:aliceblue">
                    <div class="col-md-1">Section ID</div>
                    <div class="col-md-1">
                        <input type="text" [(ngModel)]="data.sData['SECTION_ID']" id="sec_id" name="sec_id" class="form-control">                       
                    </div>
                    <div class="col-md-3">
                        <input type="text" [(ngModel)]="data.sData['SECTION_NAME']" id="sec_title" name="sec_title" class="form-control">                       
                    </div>
                    <div class="col-md-1">Level</div>
                    <div class="col-md-1">
                        <input type="text" [(ngModel)]="data.sData['SECTION_LEVEL']" id="sec_title" name="sec_title" class="form-control">                       
                    </div>
                    <div class="col-md-4">
                        <button class="btn btn-primary m-3">Save</button>
                        <button (click)="showEditTitle();" class="btn btn-warning m-3">Cancel</button>
                        <button class="btn btn-danger m-3">Delete</button>
                    </div>
                </div>


<!---->
<!-- FULL INSTRUCTION SECTION -->
<!---->

<div *ngIf="showDataTables=='N'&&showDisplayTables=='N'&&addDTable=='N'&&addITable=='N'&&editTitle=='N'&&showQuestions=='N'&&addQuestions=='N'" class="container-fluid border border-primary" style="background-color:azure;">
        <div class="row p-3" style="background-color: lightblue;">
            <div class="col-md-10">
                <h1 style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">Instructions</h1>
            </div>
            <div class="col-md-2">
                <button (click)="showIEditor();" class="btn btn-primary">Edit Instructions</button>
            </div>
        </div>

    <div class="row">
        <div class="col-md-8"> &nbsp; </div>
        <div *ngIf="iedit=='N'" class="col-md-2"> &nbsp; </div>
            <div *ngIf="iedit=='Y'" class="col-md-2">
                <button *ngIf="iedit=='Y'" (click)="postInstructions();" type="submit" class="btn btn-danger mb-3">Save Instructions</button> 
            </div>
            <div *ngIf="iedit=='Y'" class="col-md-2">
                <button *ngIf="iedit=='Y'" (click)="showIEditor();" class="btn btn-warning">Close Edit</button>
            </div>
        </div>


<!---->
<!-- SHOW INSTRUCTION SECTION -->
<!---->

        <div *ngIf="iedit=='N'" class="row mt-5 mb-5">
        <div class="col-md-1">&nbsp;</div>
                <div class="col-md-10" [innerHTML]="data.formData.HELP"></div>
                <div class="col-md-1">&nbsp;</div>
        </div>
        
<!---->
<!-- EDIT INSTRUCTION SECTION -->
<!---->

        <div *ngIf="iedit=='Y'" class="row">
            <form>
                <div class="mb-3">
                  <label for="exampleInputEmail1" class="form-label">HTML</label>
                  <textarea [(ngModel)]="data.formData['HELP']" class="form-control" id="example" name="example" style="height:180px;"></textarea>
                </div>
                <button (click)="postInstructions();" type="submit" class="btn btn-danger">Save Instructions</button>
            </form>
        </div>
</div>


<!---->
<!-- DISPLAY TABLE LIST -->
<!---->


<div *ngIf="showDisplayTables=='Y'&&addDTable=='N'&&addITable=='N'" class="container-fluid border border-primary" style="background-color: aliceblue;">

        <div *ngFor="let m of data.display_tables" class="row">
            <div class="col-md-2"></div>
            <div class="col-md-7">
                <h2 style="font-size:18px;">Display Table - {{ m.TNAME }}</h2>
               <table class="table table-responsive table-striped table-bordered border-primary" style="font-size:14px;">
                    <tbody>
                        <tr class="p-2">
                            <td  class="p-2" style="width:100px"></td>
                            <td  class="p-2"></td>
                            <td  class="p-2" style="width:100px;">
                            <button (click)="editITable(m)" class="btn btn-primary" >Edit</button>
                        </tr>
                    </tbody>  
                </table>    
            </div>
            <div class="col-md-2"></div>
        </div>
    </div> 

<!---->
<!-- QUESTION LIST -->
<!---->

<div *ngIf="showQuestions=='Y'&&showDataTables=='N'&&addDTable=='N'&&addITable=='N'&&addQuestions=='N'" 
    class="container-fluid border border-primary">
    <div class="row p-3" style="background-color: lightgrey;">
        <div class="col-md-8">
            <h1>Section Questions</h1>
        </div>
        <div class="col-md-3">
            <button (click)="showQEditor();" class="mb-1 btn btn-primary">Add Question</button>
            <button (click)="showQuestionList();" class="mb-1 btn btn-primary">Close</button>
        </div>
    </div>
        <div class="row">
            <div class="col-md-12">
                <h2 style="font-size:18px;">Section Questions</h2>
               <table class="table table-responsive table-striped table-bordered border-primary" style="font-size:14px;">
                    <thead>
                        <tr class="p-2">
                            <th class="p-2">Tag</th>
                            <th class="p-2">Option Id</th>
                            <th class="p-2">Question</th>
                            <th class="p-2">Type</th>
                            <th class="p-2">Source</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr  *ngFor="let m of data.questions" class="p-2">
                            <td  class="p-2" style="width:100px">{{ m.TAG_NAME }}</td>
                            <td  class="p-2" style="width:100px">{{ m.OPTIONID }}</td>
                            <td  class="p-2">{{ m.QUESTION }}</td>
                            <td  class="p-2">{{ m.QUESTION_TYPE }}</td>
                            <td  class="p-2">{{ m.DATA_SOURCE }}</td>
                            <td  class="p-2" style="width:100px;">
                            <button (click)="editQuestion(m);" class="btn btn-primary" >Edit</button>
                        </tr>
                    </tbody>  
                </table>      
            </div>
        </div>
        </div>


<!-- FULL TEMPLATE SECTION-->
<!---->
<div *ngIf="showDataTables=='N'&&showDisplayTables=='N'&&addDTable=='N'&&addITable=='N'&&editTitle=='N'&&showQuestions=='N'&&addQuestions=='N'" class="container-fluid mt-3 border border-primary" style="background-color:lavender">
    <div class="row p-3" style="background-color: lightblue;">
        <div class="col-md-10">
            <h1 style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">Template</h1>
        </div>
        <div class="col-md-2">
            <button (click)="showEditor();" class="mb-1 btn btn-primary">Edit Template</button>  
        </div>
    </div>
        <div class="row">
            <div class="col-md-6">
                &nbsp;
            </div>
            <div *ngIf="edit=='N'" class="col-md-2">
                <!-- <button *ngIf="edit=='N'" (click)="showEditor();" class="mb-1 btn btn-primary">Edit Template</button>  -->          
            </div>
            <div *ngIf="edit=='N'" class="col-md-2">
            </div>
            <div *ngIf="edit=='Y'" class="col-md-2">
                <button *ngIf="edit=='Y'" (click)="postTemplate();" type="submit" class="btn btn-danger mb-3">Save Template</button> 
            </div>
            <div *ngIf="edit=='Y'" class="col-md-2">
                <button *ngIf="edit=='Y'" (click)="showEditor();" class="btn btn-warning">Close Edit</button>
            </div>
        </div>
        <div *ngIf="edit=='N'&&addDTable=='N'&&addITable=='N'" class="row mt-5">
                <div class="col-md-12" [innerHTML]="data.formData.HTML"></div>
        </div>
        </div>
</div>

<!---->
<!-- ADD SECTION QUESTION -->
<!---->

<div *ngIf="addQuestions=='Y'" class="container-fluid border border-primary">
    <div class="row p-3" style="background-color: lightblue;">
        <div class="col-md-10">
            <h1 style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">Add / Edit Question</h1>
        </div>
        <div class="col-md-2"></div>
    </div>

    <div  class="row m-3">
        <div class="col-md-4 m-1" style="background-color: lightgrey">
            <div class="row p-1 border border-primary">
                <h2>Question Format</h2>
            </div>
            <div class="row mb-3 p-1">
                <div class="col-md-4">Tag Name</div>
                <div class="col-md-8"> <input type="text" [(ngModel)]="data.questionData['TAG_NAME']" class="form-control" id="formGroupExampleInput2"></div>
            </div>
        
        <div class="row mb-3 p-1">
            <div class="col-md-4">Option ID</div>
            <div class="col-md-8"><input type="text" [(ngModel)]="data.questionData['OPTIONID']" class="form-control" id="formGroupExampleInput2"></div>
          </div>
          <div class="row mb-3 p-1">
            <div class="col-md-4">Answer Type</div>
            <div class="col-md-8">
            <select [(ngModel)]="data.questionData['QUESTION_TYPE']" class="form-control" id="formGroupExampleInput2">
                <option value="">-- Select --</option>
                <option value="TEXT">Text Answer</option>
                <option value="YESNO">Yes/No</option>
                <option value="DISPLAY">Display Table</option>
                <option value="DATA">Data Table</option>
                <option value="PERSON">Person</option>
                <option value="ORGANIZATION">Organization</option>
                <option value="LOCATION">Location</option>
                <option value="OBJECT">Object</option>
            </select></div>
          </div>
          <div class="row mb-3 p-1">
            <div class="col-md-4">Data Source</div>
            <div class="col-md-8">
            <select [(ngModel)]="data.questionData['DATA_SOURCE']" class="form-control" id="formGroupExampleInput2">
                <option value="">-- Select --</option>
                <option value="ENTERED">Entered Value</option>
                <option value="ALL">All Contacts</option>
                <option value="PERSON">Person Contacts</option>
                <option value="ORGANIZATION">Organizations</option>
                <option value="TENANTS">Tenant Organizations</option>
                <option value="LOCATION">Locations</option>
                <option value="OBJECT">Objects</option>
            </select></div>
          </div>
          <div *ngIf="data.questionData['QUESTION_TYPE']=='DISPLAY'" class="row mb-3 p-1">
            <div class="col-md-4"># Rows</div>
            <div class="col-md-8">
            <select [(ngModel)]="data.questionData['ROW_COUNT']" class="form-control" name="eeee" id="formGroupExampleInput2">
                <option value="">-- Select --</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
            </select></div>
          </div>
          <div *ngIf="data.questionData['QUESTION_TYPE']=='DATA'||
                data.questionData['QUESTION_TYPE']=='DATA'" class="row mb-3 p-1">
            <div class="col-md-4"># Columns</div>
            <div class="col-md-8">
            <select [(ngModel)]="data.questionData['COL_COUNT']" class="form-control" name="asd" id="formGroupExampleInput2">
                <option value="">-- Select --</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
            </select></div>
          </div>
 <!--        <div *ngIf="data.questionData['QUESTION_TYPE']=='DISPLAY'||data.questionData['QUESTION_TYPE']=='DATA'" class="row mb-3 p-1">
            <div class="col-md-4">Direction</div>
            <div class="col-md-8">
            <select [(ngModel)]="data.questionData['DATA_DIRECTION']" class="form-control" id="formGroupExampleInput2">
                <option value="">-- Select --</option>
                <option value="Vertical">Vertical</option>
                <option value="Horizontal">Horizontal</option>
            </select></div>
          </div> -->
          <div *ngIf="data.questionData['QUESTION_TYPE']=='DATA'||data.questionData['QUESTION_TYPE']=='DISPLAY'" class="row mb-3 p-1">
            <div class="col-md-4">Header (Row/Col)</div>
            <div class="col-md-8">
            <select [(ngModel)]="data.questionData['TABLE_HEADER']" id="header" name="header" class="form-control" id="formGroupExampleInput2">
                <option value="">-- Select --</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select></div>
          </div>
 <!--         <div class="row mb-3 p-1">
            <div class="col-md-4">Custom SQL</div> 
            <div class="col-md-8">
                <textarea style="height: 130px;" [(ngModel)]="data.questionData['CUSTOM_SQL']" class="form-control" id="formGroupExampleInput2">
                </textarea>
            </div>
          </div> -->
          </div>
          <div class="col-md-4 m-1"  style="background-color: lightgrey">
          <div class="row p-1 border border-primary">
                <h2>Question Data</h2>
          </div>
          <div class="row mb-3 p-1">
            <div class="col-md-3">Question</div> 
            <div class="col-md-9">
                <textarea style="height: 130px;" [(ngModel)]="data.questionData['QUESTION']" class="form-control" id="formGroupExampleInput2">
                </textarea>
            </div>
          </div>
          <div *ngIf="data.questionData['QUESTION_TYPE']!='DATA'&&data.questionData['QUESTION_TYPE']!='DISPLAY'" class="row mb-3 p-1">
            <div class="col-md-3">Default</div> 
            <div class="col-md-9">
                <textarea style="height: 130px;" [(ngModel)]="data.questionData['DEFAULT_VALUE']" class="form-control" id="formGroupExampleInput2">
                </textarea>
            </div>
          </div>
          <div *ngIf="data.questionData['QUESTION_TYPE']!='DISPLAY'&&data.questionData['QUESTION_TYPE']!='DATA'" class="row mb-3 p-1">
            <div class="col-md-6"></div>
            <div class="col-md-6">
                <button (click)="postQuestion()" class="btn mb-1 btn-primary">Save</button>
                <button  (click)="showQEditor()" class="btn mb-1 btn-warning">Cancel</button>
            </div>
          </div>
    </div>
    <div *ngIf="data.questionData['QUESTION_TYPE']=='DISPLAY'||data.questionData['QUESTION_TYPE']=='DATA'" class="col-md-3 m-1"  style="background-color: lightgrey">
        <div class="row p-1 border border-primary">
            <h2>Table Data</h2>
        </div>
        <div class="row mb-3 p-1">
        <div class="col-md-4">Table Style</div>
        <div class="col-md-8">
        <select [(ngModel)]="data.questionData['TABLE_STYLE']" class="form-control" id="formGroupExampleInput2">
            <option value="">-- Select --</option>
            <option value="1">No Border</option>
            <option value="2">Black Border</option>
        </select></div>
        </div>
        <div class="row mb-3 p-1">
            <div class="col-md-4">Table Width</div>
            <div class="col-md-8">
            <select [(ngModel)]="data.questionData['TABLE_WIDTH']" class="form-control" id="formGroupExampleInput2">
                <option value="">-- Select --</option>
                <option value="100">100%</option>
                <option value="80">80%</option>
                <option value="75">75%</option>
                <option value="50">50%</option>
                <option value="25">25%</option>
            </select></div>
        </div>

    <div *ngIf="data.questionData['TABLE_HEADER']=='Yes'">
        <div class="row mb-3 p-1">
            <div class="col-md-3"><b>Header</b></div> 
        </div>
        <div *ngIf="data.questionData['QUESTION_TYPE']=='DATA'">


        <div class="row mb-3 p-1">
            <div class="col-md-3">Col 1</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div class="row mb-3 p-1">
            <div class="col-md-3">Col 2</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_2']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='3'||
        data.questionData['COL_COUNT']=='4'||
        data.questionData['COL_COUNT']=='5'||
        data.questionData['COL_COUNT']=='6'||
        data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 3</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_3']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='4'||
        data.questionData['COL_COUNT']=='5'||
        data.questionData['COL_COUNT']=='6'||
        data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 4</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_4']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='5'||
        data.questionData['COL_COUNT']=='6'||
        data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 5</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_5']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='6'||
        data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 6</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_6']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 7</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_7']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 8</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_8']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Column 9</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_9']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Column 10</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_10']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
    </div>
    <div *ngIf="data.questionData['QUESTION_TYPE']=='DISPLAY'">

        <div class="row mb-3 p-1">
            <div class="col-md-3">Row 1</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div class="row mb-3 p-1">
            <div class="col-md-3">Row 2</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_2']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='3'||
        data.questionData['ROW_COUNT']=='4'||
        data.questionData['ROW_COUNT']=='5'||
        data.questionData['ROW_COUNT']=='6'||
        data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW#_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 3</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_3']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='4'||
        data.questionData['ROW_COUNT']=='5'||
        data.questionData['ROW_COUNT']=='6'||
        data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 4</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_4']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='5'||
        data.questionData['ROW_COUNT']=='6'||
        data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 5</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_5']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='6'||
        data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 6</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_6']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 7</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_7']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 8</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_8']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 9</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_9']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 10</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_ROW_10']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
    </div>
</div>
    <div *ngIf="data.questionData['QUESTION_TYPE']=='DATA'">
        <div class="row mb-3 p-1">
            <div class="col-md-3"><b>Data</b></div> 
        </div>
        <div class="row mb-3 p-1">
            <div class="col-md-3">Col 1</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div class="row mb-3 p-1">
            <div class="col-md-3">Col 2</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='3'||
        data.questionData['COL_COUNT']=='4'||
        data.questionData['COL_COUNT']=='5'||
        data.questionData['COL_COUNT']=='6'||
        data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 3</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='4'||
        data.questionData['COL_COUNT']=='5'||
        data.questionData['COL_COUNT']=='6'||
        data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 4</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='5'||
        data.questionData['COL_COUNT']=='6'||
        data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 5</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='6'||
        data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 6</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='7'||
        data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 7</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='8'||
        data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Col 8</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='9'||
        data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Column 9</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['COL_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Column 10</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['HEADER_COL_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
    </div>
    <div *ngIf="data.questionData['QUESTION_TYPE']=='DISPLAY'">
        <div class="row mb-3 p-1">
            <div class="col-md-3"><b>Data</b></div> 
        </div>
        <div class="row mb-3 p-1">
            <div class="col-md-3">Row 1</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_1']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div class="row mb-3 p-1">
            <div class="col-md-3">Row 2</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_2']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='3'||
        data.questionData['ROW_COUNT']=='4'||
        data.questionData['ROW_COUNT']=='5'||
        data.questionData['ROW_COUNT']=='6'||
        data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 3</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_3']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='4'||
        data.questionData['ROW_COUNT']=='5'||
        data.questionData['ROW_COUNT']=='6'||
        data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 4</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_4']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='5'||
        data.questionData['ROW_COUNT']=='6'||
        data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 5</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_5']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='6'||
        data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 6</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_6']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='7'||
        data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 7</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_7']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='8'||
        data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 8</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_8']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='9'||
        data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 9</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_9']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
        <div *ngIf="data.questionData['ROW_COUNT']=='10'" class="row mb-3 p-1">
            <div class="col-md-3">Row 10</div> 
            <div class="col-md-9">
                <input type="text" [(ngModel)]="data.questionData['ROW_10']" class="form-control" id="formGroupExampleInput2">
            </div>
        </div>
    </div>

    <div class="row mb-3 p-1">
        <div class="col-md-6"></div>
        <div class="col-md-6">
            <button (click)="postQuestion()" class="btn mb-1 btn-primary">Save</button>
            <button  (click)="showQEditor()" class="btn mb-1 btn-warning">Cancel</button>
        </div>
      </div>
</div>
</div>
</div>

        <div *ngIf="edit=='Y'" [formGroup]="form">
        <div class="NgxEditor__Wrapper">
            <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"></ngx-editor-menu>   
            <ngx-editor
              id="editor"
              name="editor"
              [editor]="editor"
              formControlName="editorContent"
              [placeholder]="'Type here...'"
            ></ngx-editor>
          </div>
          <form>
            <div class="mb-3">
           </div>
            <button (click)="postTemplate();" type="submit" class="btn btn-danger">Save Template</button>
          </form>

        </div>          
</div>
<!--
    SHOW DATA TAG SECTION
-->
<div *ngIf="showdata=='Y'" class="col-md-3">
    <h2>Data Tags</h2>
    <p>Click to copy to clipboard.</p>
<!---    <table class="table table-responsive table-striped table-bordered border-primary"> -->
    <table id="zippy" class="table table-responsive">
        <thead>
            <tr class="p-2">
                <th  class="p-2">Tag</th>
                <th  class="p-2">Name</th>                                 
            </tr>
        </thead>
        <tbody>
            <tr [ngClass]="['p-2']" *ngFor="let m of data.tags">
                <td id="t{{m.ID}}" (click)="copyText(m.TAG,m.ID);" class="p-2" style="width:100px">{{ m.TAG }}</td>
                <td (click)="copyText(m.TAG,m.ID);" class="p-2">{{ m.DATA_NAME }}</td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>
</div>